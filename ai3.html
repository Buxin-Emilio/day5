<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"
    />
    <title>商品详情 | 2025 Tech Store</title>

    <style>
      /* =========================================
           1. CSS 变量定义 (方便全局修改颜色和尺寸)
           ========================================= */
      :root {
        --primary: #4361ee; /* 主题色：科技蓝 */
        --primary-dark: #3046b5; /* 主题色深色：用于点击态 */
        --bg-dark: #0f0f1a; /* 全局背景：暗夜黑 */
        --card-white: #ffffff; /* 卡片背景：纯白 */
        --text-main: #1e202b; /* 主要文字色 */
        --text-sub: #8892b0; /* 次要文字色 */
        --border-light: #f0f2f5; /* 浅色边框 */
        --radius: 16px; /* 圆角统一为16px */
        --safe-bottom: env(safe-area-inset-bottom); /* 适配iPhone底部黑条 */
      }

      /* =========================================
           2. 全局重置 (Reset & Base Styles)
           ========================================= */
      * {
        margin: 0; /* 去除默认外边距 */
        padding: 0; /* 去除默认内边距 */
        box-sizing: border-box; /* 盒模型设置为包含边框和内边距 */
        -webkit-tap-highlight-color: transparent; /* 去除移动端点击高亮背景 */
      }

      body {
        font-family: "Inter", -apple-system, sans-serif; /* 优先使用现代无衬线字体 */
        background-color: var(--bg-dark); /* 设置页面背景色 */
        color: var(--text-main); /* 设置默认文字颜色 */
        padding-bottom: calc(
          80px + var(--safe-bottom)
        ); /* 底部留白，防止内容被底部操作栏遮挡 */
      }

      /* =========================================
           3. 顶部导航栏 (Navbar)
           ========================================= */
      .navbar {
        position: fixed; /* 固定定位，始终吸顶 */
        top: 0;
        left: 0;
        width: 100%; /* 占满宽度 */
        height: 60px; /* 高度设定 */
        display: flex; /* 弹性布局 */
        justify-content: space-between; /* 左右两端对齐 */
        align-items: center; /* 垂直居中 */
        padding: 0 20px; /* 左右内边距 */
        z-index: 100; /* 层级最高 */
        /* 渐变黑色背景，保证图片上的白色图标可见 */
        background: linear-gradient(to bottom, rgba(0, 0, 0, 0.4), transparent);
        pointer-events: none; /* 让点击穿透背景，只响应按钮点击 */
      }

      .nav-btn {
        width: 40px;
        height: 40px; /* 按钮尺寸 */
        background: rgba(255, 255, 255, 0.2); /* 半透明白色背景 */
        backdrop-filter: blur(10px); /* 毛玻璃模糊效果 */
        border-radius: 50%; /* 圆形按钮 */
        display: flex;
        justify-content: center;
        align-items: center; /* 图标居中 */
        cursor: pointer; /* 鼠标变手型 */
        pointer-events: auto; /* 恢复点击响应 */
        position: relative; /* 为角标定位做参照 */
      }

      .nav-btn svg {
        width: 24px;
        height: 24px; /* 图标大小 */
        fill: white; /* 图标颜色为白 */
      }

      /* 购物车数字角标 */
      .cart-badge {
        position: absolute; /* 绝对定位 */
        top: -2px;
        right: -2px; /*定位在右上角 */
        background: #ff3b30; /* 红色背景 */
        color: white; /* 白色文字 */
        font-size: 10px; /* 小字体 */
        font-weight: bold; /* 加粗 */
        height: 18px;
        min-width: 18px; /* 最小尺寸 */
        border-radius: 9px; /* 胶囊形状 */
        display: flex;
        align-items: center;
        justify-content: center; /* 文字居中 */
        padding: 0 4px; /* 内边距 */
        border: 2px solid var(--bg-dark); /* 增加描边，与背景区分 */
        transform: scale(0); /* 初始缩放为0 (隐藏) */
        transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* 弹性动画过渡 */
      }

      .cart-badge.show {
        transform: scale(1); /* 显示状态 */
      }

      /* +1 动画类 */
      .pop-anim {
        animation: pop 0.3s ease; /* 应用关键帧动画 */
      }

      @keyframes pop {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.4);
        } /* 放大 */
        100% {
          transform: scale(1);
        } /* 恢复 */
      }

      /* =========================================
           4. 商品图片轮播 (Carousel)
           ========================================= */
      .carousel {
        width: 100%; /* 宽度100% */
        height: 100vw; /* 高度等于视口宽度（正方形） */
        max-height: 500px; /* 最大高度限制 */
        background: #fff; /* 白色背景 */
        display: flex; /* 弹性布局排列图片 */
        overflow-x: auto; /* 允许横向滚动 */
        scroll-snap-type: x mandatory; /* 强制滚动吸附效果 */
        scrollbar-width: none; /* 隐藏火狐滚动条 */
      }
      .carousel::-webkit-scrollbar {
        display: none; /* 隐藏Chrome滚动条 */
      }

      .carousel-item {
        flex: 0 0 100%; /* 每个项目占据100%宽度，不压缩 */
        height: 100%; /* 高度填满 */
        scroll-snap-align: center; /* 滚动停止时居中对齐 */
        display: flex;
        justify-content: center;
        align-items: center; /* 内容居中 */
        background: #f8f9fa; /* 浅灰底色 */
      }

      .carousel-item svg {
        width: 50%;
        height: 50%; /* 占位图标大小 */
        fill: #d1d5db; /* 占位图标颜色 */
      }

      /* =========================================
           5. 内容卡片通用样式 (Content Cards)
           ========================================= */
      .content-card {
        background: var(--card-white); /* 白色背景 */
        border-radius: var(--radius); /* 圆角 */
        padding: 24px; /* 内边距 */
        margin: 16px; /* 外边距 */
        margin-top: -20px; /* 负外边距，向上覆盖一点图片，增加层次感 */
        position: relative; /* 相对定位 */
        z-index: 10; /* 这里的层级要高于图片 */
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05); /* 轻微阴影 */
      }

      .section-gap {
        margin-top: 16px; /* 卡片之间的间距 */
      }

      /* =========================================
           6. 商品信息区 (Info)
           ========================================= */
      .price-row {
        display: flex;
        align-items: baseline; /* 基线对齐 */
        margin-bottom: 8px; /* 底部间距 */
      }
      .currency {
        font-size: 1rem;
        color: var(--primary);
        font-weight: bold;
        margin-right: 2px;
      }
      .price {
        font-size: 1.8rem;
        color: var(--primary);
        font-weight: 800; /* 大字体价格 */
      }
      .old-price {
        font-size: 0.9rem;
        color: var(--text-sub);
        text-decoration: line-through;
        margin-left: 10px; /* 原价删除线 */
      }

      .product-title {
        font-size: 1.2rem;
        font-weight: 700;
        line-height: 1.4;
        margin-bottom: 8px;
      }

      .product-desc {
        font-size: 0.9rem;
        color: var(--text-sub);
        line-height: 1.5;
      }

      /* =========================================
           7. 规格选择 (Specs)
           ========================================= */
      .spec-group {
        margin-bottom: 20px; /* 分组间距 */
      }
      .spec-title {
        font-size: 0.9rem;
        font-weight: 600;
        margin-bottom: 12px;
        display: block;
      }

      .spec-options {
        display: flex;
        gap: 12px;
        flex-wrap: wrap; /* 选项横向排列，自动换行 */
      }

      /* 隐藏原生 Radio 按钮 */
      .spec-options input[type="radio"] {
        display: none;
      }

      /* 自定义 Label 样式 */
      .spec-label {
        padding: 8px 16px; /* 按钮内边距 */
        border: 1px solid var(--border-light); /* 默认边框 */
        border-radius: 8px; /* 小圆角 */
        font-size: 0.9rem; /* 字体大小 */
        color: var(--text-main); /* 默认文字颜色 */
        cursor: pointer; /* 鼠标手型 */
        transition: all 0.2s; /* 过渡动画 */
      }

      /* 选中状态样式 (JS或CSS :checked 控制) */
      .spec-options input:checked + .spec-label {
        background: var(--primary); /* 选中背景变蓝 */
        color: white; /* 选中文字变白 */
        border-color: var(--primary); /* 边框变蓝 */
        box-shadow: 0 4px 10px rgba(67, 97, 238, 0.3); /* 选中发光 */
      }

      /* =========================================
           8. 数量选择器 (Quantity)
           ========================================= */
      .qty-wrapper {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 10px;
      }

      .qty-selector {
        display: flex;
        align-items: center;
        background: #f8f9fa;
        border-radius: 8px;
        padding: 4px; /* 灰色背景容器 */
      }

      .qty-btn {
        width: 32px;
        height: 32px; /* 按钮大小 */
        border: none;
        background: white; /* 白色按钮 */
        border-radius: 6px; /* 圆角 */
        font-size: 1.2rem;
        cursor: pointer;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05); /* 按钮微阴影 */
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .qty-input {
        width: 40px;
        text-align: center; /* 输入框宽度和居中 */
        border: none;
        background: transparent;
        font-weight: 600;
        font-size: 1rem;
      }

      /* =========================================
           9. 推荐网格 (Grid)
           ========================================= */
      .grid-title {
        color: white;
        margin: 30px 20px 16px;
        font-size: 1.1rem;
      }

      .rec-grid {
        display: grid;
        grid-template-columns: 1fr 1fr; /* 两列布局 */
        gap: 16px; /* 网格间距 */
        padding: 0 20px; /* 左右内边距 */
      }

      .rec-item {
        background: white;
        border-radius: var(--radius);
        overflow: hidden;
        display: flex;
        flex-direction: column;
      }

      .rec-img {
        aspect-ratio: 1;
        background: #f1f3f5; /* 正方形占位 */
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .rec-img svg {
        width: 30px;
        fill: #dee2e6;
      }

      .rec-info {
        padding: 10px;
      }
      .rec-name {
        font-size: 0.85rem;
        margin-bottom: 4px;
      }
      .rec-price {
        font-size: 0.95rem;
        font-weight: bold;
        color: var(--primary);
      }

      /* =========================================
           10. 底部固定操作栏 (Bottom Bar)
           ========================================= */
      .bottom-bar {
        position: fixed; /* 固定到底部 */
        bottom: 0;
        left: 0;
        width: 100%;
        background: white; /* 白色背景 */
        padding: 10px 20px; /* 内边距 */
        /* 适配 iPhone X 底部安全区 */
        padding-bottom: calc(10px + var(--safe-bottom));
        display: flex;
        gap: 16px; /* 按钮间距 */
        box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.05); /* 顶部阴影 */
        z-index: 99; /* 层级高 */
      }

      .action-btn {
        flex: 1; /* 按钮平分宽度 */
        height: 48px; /* 按钮高度 */
        border: none;
        border-radius: 24px; /* 胶囊圆角 */
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: transform 0.1s; /* 点击缩放过渡 */
      }

      .action-btn:active {
        transform: scale(0.96);
      } /* 点击时的按压效果 */

      .btn-cart {
        background: #eef1ff;
        color: var(--primary); /* 浅蓝背景，深蓝文字 */
      }

      .btn-buy {
        background: var(--primary);
        color: white; /* 深蓝背景，白色文字 */
        box-shadow: 0 4px 15px rgba(67, 97, 238, 0.3); /* 蓝色光晕 */
      }

      /* 电脑端适配微调 (Responsive) */
      @media (min-width: 768px) {
        body {
          display: flex;
          justify-content: center;
          padding-bottom: 0;
        }
        .app-container {
          width: 100%;
          max-width: 480px; /* 模拟手机宽度 */
          min-height: 100vh;
          position: relative;
          box-shadow: 0 0 50px rgba(0, 0, 0, 0.5); /* 整体阴影 */
          background: var(--bg-dark);
          overflow-y: auto; /* 内容内部滚动 */
          padding-bottom: 90px;
        }
        .bottom-bar {
          max-width: 480px;
          left: 50%;
          transform: translateX(-50%); /* 底部栏居中 */
        }
        .navbar {
          max-width: 480px;
          left: 50%;
          transform: translateX(-50%); /* 导航栏居中 */
        }
      }
    </style>
  </head>
  <body>
    <div class="app-container">
      <nav class="navbar">
        <div class="nav-btn" onclick="history.back()">
          <svg viewBox="0 0 24 24">
            <path
              d="M20,11H7.83l5.59-5.59L12,4l-8,8l8,8l1.41-1.41L7.83,13H20V11z"
            />
          </svg>
          <!-- 顶部按钮，返回键和购物车 -->
        </div>
        <div class="nav-btn">
          <div class="cart-badge" id="cartBadge">0</div>
          <svg viewBox="0 0 24 24">
            <path
              d="M7,18c-1.1,0-1.99,0.9-1.99,2S5.9,22,7,22s2-0.9,2-2S8.1,18,7,18z M17,18c-1.1,0-1.99,0.9-1.99,2s0.89,2,1.99,2s2-0.9,2-2 S18.1,18,17,18z M8.1,13h7.45c0.75,0,1.41-0.41,1.75-1.03l3.86-7.01L19.42,4l-3.86,7H8.53L4.27,2H1v2h2l3.6,7.59l-1.35,2.44 C4.52,15.37,5.48,17,7,17h12v-2H7l1.1-2z"
            />
          </svg>
        </div>
      </nav>

      <div class="carousel">
        <div class="carousel-item">
          <svg viewBox="0 0 24 24">
            <path
              d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"
            />
          </svg>
        </div>
        <div class="carousel-item">
          <!--  -->
          <svg viewBox="0 0 24 24">
            <path
              d="M2 17h20v2H2zM3.55 12C3.21 12 3 12.23 3 12.55V14h18v-1.45c0-.3-.2-.55-.5-.55h-17z"
            />
          </svg>
        </div>
        <div class="carousel-item">
          <svg viewBox="0 0 24 24">
            <path
              d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"
            />
          </svg>
        </div>
      </div>

      <div class="content-card">
        <div class="price-row">
          <span class="currency">¥</span>
          <span class="price">5,999</span>
          <span class="old-price">¥6,499</span>
        </div>
        <h1 class="product-title">
          UltraTech X1 | 2025 AI 旗舰智能终端 全息影像 钛金属机身
        </h1>
        <p class="product-desc">
          搭载 Quantum 处理器，零重力手感，支持 240W 光速秒充。
        </p>
      </div>

      <div class="content-card section-gap">
        <div class="spec-group">
          <span class="spec-title">颜色</span>
          <div class="spec-options">
            <input type="radio" name="color" id="c1" checked />
            <label class="spec-label" for="c1">暗夜黑</label>

            <input type="radio" name="color" id="c2" />
            <label class="spec-label" for="c2">钛银灰</label>

            <input type="radio" name="color" id="c3" />
            <label class="spec-label" for="c3">星云蓝</label>
          </div>
        </div>

        <div class="spec-group">
          <span class="spec-title">存储容量</span>
          <div class="spec-options">
            <input type="radio" name="storage" id="s1" />
            <label class="spec-label" for="s1">256GB</label>

            <input type="radio" name="storage" id="s2" checked />
            <label class="spec-label" for="s2">512GB</label>

            <input type="radio" name="storage" id="s3" />
            <label class="spec-label" for="s3">1TB</label>
          </div>
        </div>

        <div class="qty-wrapper">
          <span class="spec-title" style="margin-bottom: 0">购买数量</span>
          <div class="qty-selector">
            <button class="qty-btn" onclick="updateQty(-1)">-</button>
            <input
              type="text"
              class="qty-input"
              value="1"
              readonly
              id="qtyInput"
            />
            <button class="qty-btn" onclick="updateQty(1)">+</button>
          </div>
        </div>
      </div>

      <h3 class="grid-title">推荐搭配</h3>
      <div class="rec-grid">
        <div class="rec-item">
          <div class="rec-img">
            <svg viewBox="0 0 24 24">
              <path
                d="M12 3v9.28a4.39 4.39 0 0 0-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3h-7z"
              />
            </svg>
          </div>
          <div class="rec-info">
            <div class="rec-name">Pro Earbuds</div>
            <div class="rec-price">¥1,299</div>
          </div>
        </div>
        <div class="rec-item">
          <div class="rec-img">
            <svg viewBox="0 0 24 24">
              <path
                d="M22 6h-6V4c0-1.1-.9-2-2-2h-4c-1.1 0-2 .9-2 2v2H2v15a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1V6zm-8 0h-4V4h4v2z"
              />
            </svg>
          </div>
          <div class="rec-info">
            <div class="rec-name">Watch Ultra</div>
            <div class="rec-price">¥2,499</div>
          </div>
        </div>
      </div>

      <div class="bottom-bar">
        <button class="action-btn btn-cart" onclick="addToCart()">
          加入购物车
        </button>
        <button class="action-btn btn-buy">立即购买</button>
      </div>
    </div>

    <script>
      // === 1. 数量增减逻辑 ===
      function updateQty(change) {
        // 获取输入框元素
        const input = document.getElementById("qtyInput");
        // 将当前值转为整数
        let val = parseInt(input.value);
        // 计算新值
        val += change;
        // 限制最小值不能小于 1
        if (val < 1) val = 1;
        // 更新输入框
        input.value = val;
      }

      // === 2. 加入购物车动画逻辑 ===
      let cartCount = 0; // 购物车初始数量

      function addToCart() {
        // 获取角标元素
        const badge = document.getElementById("cartBadge");

        // 数量 +1
        cartCount++;
        badge.innerText = cartCount;

        // 添加显示类（如果是第一次添加，确保它可见）
        badge.classList.add("show");

        // 为了能重复触发动画，我们需要先移除动画类，强制浏览器重绘，再添加
        badge.classList.remove("pop-anim");

        // 使用 void badge.offsetWidth 触发回流(reflow)，这是重启CSS动画的黑科技
        void badge.offsetWidth;

        // 重新添加动画类，触发放大缩小效果
        badge.classList.add("pop-anim");
      }
    </script>
  </body>
</html>
